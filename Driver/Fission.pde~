import java.util.ArrayList;
ArrayList<Particle> toBeExploded;
<<<<<<< HEAD
Neutron[] neutrons;
int mASSive;
boolean first; 
boolean selected = false;
HScrollbar hs1;




=======
  Neutron[] neutrons;
  int mASSive;
  boolean first;
  boolean hit = false;

  //boolean reacted;  
  //boolean selected = false;
 // String inp = "";
>>>>>>> 307b6e927f2b82d15fa910a4b16bb9d24f3b3f04
class Fission {
Selection_FuseFiss fartz;  

  Fission() {
    setup();
    once();
  }

  void setup() {
    first = true;
    //setup the page 
    size(700, 700);
    background(0);  
    if (!selected) {
       text("Please Select An Element", width/2, 50);
       makeData();
       if (mousePressed) {
        if (mousePressed) {
          if (mouseX >= 30 && mouseX <= 195) {
           selected = true;
           mASSive = 30;
          }
          else {
            selected = true;
           mASSive = 200; 
          }
           if (neutrons == null) {
           neutrons = new Neutron[5];
           for (int i = 0; i < 5; i++) {
             neutrons[i] = new Neutron();
           }
       } 
       //mASSive = 80;
         if (toBeExploded == null) {
           toBeExploded = new ArrayList<Particle>();
           Particle butt = new Particle((int) random(width), (int) random(height), mASSive); 
           toBeExploded.add(butt);
        }
          
          
       }
    }
    }
    else {
    //initializations  
    reacted = false;
<<<<<<< HEAD
    if (neutrons == null) {
      neutrons = new Neutron[5];
       for (int i = 0; i < 5; i++) {
         neutrons[i] = new Neutron();
       }
     } 
     mASSive = 80;
     if (toBeExploded == null) {
       toBeExploded = new ArrayList<Particle>();
       Particle butt = new Particle((int) random(width), (int) random(height), mASSive); 
       toBeExploded.add(butt);
=======
    fartz = new Selection_FuseFiss(2);
    results = false;
    background(0);
     //fartza = new Selection_FuseFiss(1);
    if (hit) {
      fill(255) ;
      text("new element", 100, 100);
    }

      if (neutrons == null) {
        neutrons = new Neutron[5];
        for (int i = 0; i < 5; i++) {
          neutrons[i] = new Neutron();
        }
>>>>>>> 307b6e927f2b82d15fa910a4b16bb9d24f3b3f04
      }
    } 
  }//end of setup


  boolean finished() {
    return reacted;
  }


  void once() {
    if (!selected) {
     //text("Please Select An Element", width/2, 50);
      makeData();
      if (mousePressed) {
          if (mouseX >= 30 && mouseX <= 195) {
           selected = true;
           mASSive = 30;
          }
          else {
            selected = true;
           mASSive = 200; 
          }
         if (neutrons == null) {
           neutrons = new Neutron[5];
           for (int i = 0; i < 5; i++) {
             neutrons[i] = new Neutron();
           }
       } 
       //mASSive = 80;
         if (toBeExploded == null) {
           toBeExploded = new ArrayList<Particle>();
           Particle butt = new Particle((int) random(width), (int) random(height), mASSive); 
           toBeExploded.add(butt);
        }
          
       }
    }
    
    else {
    background(0);
    if (first) {
      first = false;
    }
    for (int i=0; i < neutrons.length; i++ ) {
      neutrons[i].once(); 
      neutrons[i].process();
     }

     for (int j = 0; j < toBeExploded.size(); j++) {
       toBeExploded.get(j).once();   
       toBeExploded.get(j).process();
     }

     for (int i = 0; i < neutrons.length; i++) {
       for (int j = 0; j < toBeExploded.size(); j++) {
          if (neutrons[i].isTouching(toBeExploded.get(j))) {
            float xxx = toBeExploded.get(j).mass;  
            if (xxx > 10) {
              int xcor =  (int) toBeExploded.get(j).xUs ;
              int ycor = (int) toBeExploded.get(j).yUs;
              toBeExploded.remove(j);
              float new1 = (float) random(xxx);
              float new2 = (float) (xxx - new1);
              Particle haha = new Particle(xcor, ycor, new1);
              Particle foofoo = new Particle(xcor, ycor, new2);
              toBeExploded.add(haha);
              toBeExploded.add(foofoo);
            }
          }
       }
     }
      fill(255);
      stroke(255);
      textFont(x, 20);
      text("Back to Home", 600, 50);
      noFill();
      rect(500, 20, 195, 50);
      if (mousePressed) {
        if (mouseX >= 500 && mouseX <= 680 && mouseY >= 20 && mouseY <=80) {
          neutrons = null;
          toBeExploded = null;
          fission = false;
          home = true;
          browse = false;
          printy = false;
        }
      }   
  }
  }




}